version: '3.8'

services:
  venice-bar-csv:
    build:
      context: .
      dockerfile: docker/Dockerfile
    environment:
      - GOOGLE_PLACES_API_KEY=${GOOGLE_PLACES_API_KEY}
      - COLLECTION_RADIUS=${COLLECTION_RADIUS:-3000}
      - MAX_RESULTS=${MAX_RESULTS:-200}
      - OUTPUT_DIR=/output
      - REQUEST_DELAY=${REQUEST_DELAY:-2}
    volumes:
      - ./output:/output
    # Container runs once and exits
    # Run again with: docker-compose up --force-recreate
